<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, target-densitydpi=device-dpi, user-scalable=no">
    <meta name="apple-mobile-app-web-capable" content="yes"
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>mobile</title>
    <style lang="">
        * {
            margin: 0;
            padding: 0;
        }
        html, body {
            width: 100%;
            height: 100%; 
        }
         .box {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden; 
        } 
        input {
            display: block;
        }
</style>
<script>
    
        var u = navigator.userAgent;
        var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
        var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
        //处理isAndroid问题
        if (isAndroid) {
            // window.onresize = function () {
            //     if (document.activeElement.tagName == "INPUT" || document.activeElement.tagName == "TEXTAREA") {
            //         window.setTimeout(function () {
            //             document.activeElement.scrollIntoView();
            //             var top = document.activeElement.getBoundingClientRect().top;
            //             window.scrollTo(0,top);
            //             // window.scrollTop = top;
            //             // document.body.scrollTop = top;
            //         }, 0);
            //     }
            // }
        }
</script>
</head>
<body>
    <div class="box">
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
        <input></input>
    </div>
    
    <script>

        var u = navigator.userAgent;
        var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
        var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
        window.onresize = function () {
            
                document.querySelectorAll('input')[2].value = new Date().getTime();
            if (document.activeElement.tagName == "INPUT" || document.activeElement.tagName == "TEXTAREA") {
                setTimeout(function () {
                    var top = document.activeElement.getBoundingClientRect().top;
                    if(top > 0) {
                        window.scrollTo(0,top-70);
                    } else {
                        window.scrollTo(0,top);
                    }
                }, 0);
            }
        }
        document.querySelectorAll('input').forEach(function(v,i){
            v.addEventListener('click', function(e) {
                // window.onresize = function(){
                //      var value = e.target
                //     var top = value.getBoundingClientRect().top;
                //     window.scrollTo(0,top);
                // }
                document.querySelectorAll('input')[0].value = new Date().getTime();
                setTimeout(function() {
                    var top = document.activeElement.getBoundingClientRect().top;
                    if(top > 0) {
                        window.scrollTo(0,top-70);
                    } else {
                        window.scrollTo(0,top);
                    }
                document.querySelectorAll('input')[1].value = new Date().getTime();
                    // document.activeElement.scrollIntoView(false);
                    // console.log(document.activeElement)
                }, 0);
                
            }, true);
        });
        
    </script>
</body>
</html>